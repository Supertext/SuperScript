<!DOCTYPE html>
<html>

<head>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-overrides.css" rel="stylesheet">
    <link href="css/shCore.css" rel="stylesheet">
    <link href="css/shCoreDefault.css" rel="stylesheet">
    <link href="css/shThemeDefault.css" rel="stylesheet">
    <link rel="icon" href="img/favicon.ico">
    <title>SuperScript Documentation</title>
</head>

<body>

    <header class="navbar navbar-static-top bs-docs-nav">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="/SuperScript">
                    <img alt="Brand" src="img/superscript-logo.gif">
                </a>
            </div>
            <nav class="collapse navbar-collapse bs-navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a href="current-projects.html">Current Projects</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="https://github.com/Supertext/SuperScript">View on GitHub</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div id="content">

        <div class="jumbotron">
            <div class="container">
                <h1>SuperScript</h1>
            </div>
        </div>

        <div class="container">

            <div class="row">

                <div class="col-xs-12">
                    <p class="lead">
                        SuperScript offers a means of declaring assets in one part of a .NET web solution and have them emitted somewhere else.
                    </p>

                    <p>
                        <mark><strong><em>This documentation is still being added. Please bear with us while we complete this documentation.</em></strong></mark>
                    </p>
                </div>

            </div>

            <div class="row">

                <div class="col-xs-12">

                    <h2>Core Concepts</h2>

                    <h3>What actually happens</h3>

                    <p>
                        SuperScript allows developers to make declarations, whatever these might be: a JavaScript variable, for example.
                        These declarations are added to a central, application-wide collection.
                    </p>

                    <pre class="brush: c#">
                        SuperScript.Declarations.AddDeclaration&lt;StandardDeclaration&gt;(myDecl);
                    </pre>

                    <p>
                        or
                    </p>

                    <pre class="brush: c#">
                        SuperScript.Declarations.AddDeclarations(IEnumerable&lt;DeclarationBase&gt;);                   
                    </pre>

                    <p>
                        Alternatively, using one of the <i>container</i> projects then a declaration can be added with
                    </p>

                    <pre class="brush: xml">
                        [WebForms]
                        &lt;spx:javascriptcontainer runat="server" emitterkey="javascript"&gt;
                            &lt;!-- The script tag is not required here, but it offers intellisense when used. --&gt;
                            &lt;script type="text/javascript"&gt;
                                var myVar = "hello world"; /* A comment */
                            &lt;/script&gt;
                        &lt;/spx:javascriptcontainer&gt;
                    </pre>

                    <pre class="brush: razor">
                        [Razor view]
                        @using (Html.JavaScriptContainer())
                        {
                            &lt;script type="text/javascript"&gt;
                                var myVar = "hello world"; /* A comment */
                            &lt;/script&gt;
                        }
                    </pre>

                    <p>
                        Certain projects accommodate an inline expression which allows the declaration to be created while being added.
                    </p>

                    <pre class="brush: c#">
                        SuperScript.JavaScript.Declarations.AddVariable(opt => opt.AssignExisting(false)
                                                                                  .Comment("A comment")
                                                                                  .EmitterKey("javascript")
                                                                                  .InsertAt(null)
                                                                                  .Name("myVar")
                                                                                  .Value("hello world"));                              
                    </pre>

                    <p>
                        Most of the above options (<code>Comment</code>, <code>Name</code> and <code>Value</code>) should have a clear function, though <code>EmitterKey</code> will be
                        explained in a few moments. For now, just keep in mind that an <code>emitter</code> can be thought of as a pipeline which will be used to
                        process declarations and append the output to the webpage.
                    </p>

                    <p>
                        Therefore, every declaration references an emitter. Even if the developer doesn't specify the key of an emitter while adding the declaration,
                        SuperScript will use the default emitter.
                    </p>

                    <p>
                        Once declarations have been added to the collection the next step is to <i>emit</i> the declarations. This is done in the most
                        convenient location - for example, JavaScript declarations will most likely be emitted just prior to the closing <code>&lt;/html&gt;</code> tag.
                    </p>

                    <p>
                        When emitting, you can choose to emit
                    </p>

                    <ul>
                        <li>specific declarations</li>
                        <li>for a specific emitter or emitters</li>
                        <li>for all emitters</li>
                    </ul>

                    <p>
                        If using WebForms
                    </p>

                    <pre class="brush: c#; html-script: true">
                        <%: SuperScript.Declarations.Emit("myVar") %>           <%-- emits a specific declaration by its 'Name' property --%>
                        <%: SuperScript.Declarations.EmitFor("javascript") %>   <%-- emits all declarations which are using the "javascript" emitter --%>
                        <%: SuperScript.Declarations.EmitForAll() %>            <%-- emits the declarations for all emitters --%>
                    </pre>

                    <p>
                        And if using ASP.NET MVC (Razor views)
                    </p>

                    <pre class="brush: razor">
                        @using SuperScript
                        ...
                        @SuperScript.Declarations.Emit("myVar")             <!-- emits a specific declaration by its 'Name' property -->
                        @SuperScript.Declarations.EmitFor("javascript")     <!-- emits all declarations which are using the "javascript" emitter -->
                        @SuperScript.Declarations.EmitForAll()              <!-- emits the declarations for all emitters -->
                    </pre>


                    <h3>Declarables</h3>

                    <p>
                        A <i>declarable</i> is simply an instance of <attr title="SuperScript.Common.Declarables.DeclarationBase"><code>SuperScript.Common.Declarables.DeclarationBase</code></attr>. The content of the declaration
                        can be many things, depending upon the derivation of <attr title="SuperScript.Common.Declarables.DeclarationBase"><code>DeclarationBase</code></attr>. For example, SuperScript.Templates allows an HTML
                        template to be declared.
                    </p>

                    <p>
                        The central collection of declarations is added to an <attr title="IList<SuperScript.Declarables.DeclarationBase>"><code>IList&lt;DeclarationBase&gt;</code></attr>, so it's trivial to derive a custom
                        declaration and have this added to the collection.
                    </p>


                    <h3>Emitters</h3>

                    <p>
                        An emitter may be thought of as a pipeline which consists of objects which can modify the declarations, and then write the output
                        to the webpage. An emitter is passed a collection of <attr title="SuperScript.Common.Declarables.DeclarationBase"><code>DeclarationBase</code></attr> objects, and the end of the process returns an
                        <attr title="System.Web.IHtmlString"><code>IHtmlString</code></attr>.
                    </p>

                </div>

            </div>

        </div>

    </div>

    <footer>
        <div class="container">
            <p class="text-muted">
                SuperScript is made available under the <a href="https://github.com/Supertext/SuperScript/blob/gh-pages/LICENSE" target="_blank">MIT license</a>
            </p>
            <p>
                <a href="https://github.com/Supertext/SuperScript">View on GitHub</a>
            </p>
            <p>
                <a href="/SuperScript"><img alt="Brand" src="img/superscript-logo.gif"></a>
            </p>
        </div>
    </footer>

    <script src="scripts/shCore.js" type="text/javascript"></script>
    <script src="scripts/shBrushCSharp.js" type="text/javascript"></script>
    <script src="scripts/shBrushXml.js" type="text/javascript"></script>
    <script src="scripts/shBrushJScript.js" type="text/javascript"></script>
    <script src="scripts/shBrushRazor.js" type="text/javascript"></script>
    <script type="text/javascript">
        SyntaxHighlighter.defaults["gutter"] = false;
        SyntaxHighlighter.defaults["toolbar"] = false;
        SyntaxHighlighter.all();
    </script>

</body>
</html>